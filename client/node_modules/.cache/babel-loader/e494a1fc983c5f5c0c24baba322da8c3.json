{"ast":null,"code":"var _jsxFileName = \"/media/sana/Nouveau nom/gestion_scolarite/client/src/Addnote.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Mytable from './Mytable';\nimport row from './row';\n\nclass Addnote extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const student = {\n      email: this.props.FirstName[0] + '_' + this.props.FamilyName + \"@esi.dz\",\n      password: this.props.FamilyName + this.props.FirstName,\n      FirstName: this.props.FirstName,\n      FamilyName: this.props.FamilyName,\n      dateBirth: this.props.dateBirth,\n      matricule: this.props.matricule,\n      level: this.props.level\n    };\n    const token = localStorage.getItem('token'); //////\n\n    if (this.props.matricule === '' || this.props.FamilyName === '' || this.props.FirstName === '' || this.props.level === '') {\n      return alert('you shoud fill all the fields !');\n    }\n\n    fetch('students/add', {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(student)\n    }).then((response, error) => {\n      response.json().then(data => {\n        console.log(data);\n        console.log(data.body);\n        alert(data.message);\n        this.props.history.push(`/Student`);\n      });\n    }).catch(() => {\n      alert(\"verify the informations\");\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Mytable, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Addnote;","map":{"version":3,"sources":["/media/sana/Nouveau nom/gestion_scolarite/client/src/Addnote.js"],"names":["React","Component","Link","Mytable","row","Addnote","constructor","props","state","onSubmit","bind","e","preventDefault","student","email","FirstName","FamilyName","password","dateBirth","matricule","level","token","localStorage","getItem","alert","fetch","method","headers","body","JSON","stringify","then","response","error","json","data","console","log","message","history","push","catch","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,OAAOC,GAAP,MAAgB,OAAhB;;AAGA,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;AAC9BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa,EAAb;AAEA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AAED;;AACDD,EAAAA,QAAQ,CAACE,CAAD,EAAG;AACTA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,OAAO,GAAC;AACZC,MAAAA,KAAK,EAAC,KAAKP,KAAL,CAAWQ,SAAX,CAAqB,CAArB,IAAwB,GAAxB,GAA4B,KAAKR,KAAL,CAAWS,UAAvC,GAAkD,SAD5C;AAEZC,MAAAA,QAAQ,EAAC,KAAKV,KAAL,CAAWS,UAAX,GAAsB,KAAKT,KAAL,CAAWQ,SAF9B;AAGZA,MAAAA,SAAS,EAAC,KAAKR,KAAL,CAAWQ,SAHT;AAIZC,MAAAA,UAAU,EAAC,KAAKT,KAAL,CAAWS,UAJV;AAKZE,MAAAA,SAAS,EAAC,KAAKX,KAAL,CAAWW,SALT;AAMZC,MAAAA,SAAS,EAAC,KAAKZ,KAAL,CAAWY,SANT;AAOZC,MAAAA,KAAK,EAAC,KAAKb,KAAL,CAAWa;AAPL,KAAd;AAUA,UAAMC,KAAK,GAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ,CAZS,CAYgC;;AACzC,QAAK,KAAKhB,KAAL,CAAWY,SAAX,KAAyB,EAAzB,IAA+B,KAAKZ,KAAL,CAAWS,UAAX,KAA0B,EAAzD,IAA+D,KAAKT,KAAL,CAAWQ,SAAX,KAAyB,EAAxF,IAA8F,KAAKR,KAAL,CAAWa,KAAX,KAAqB,EAAxH,EAA6H;AAC3H,aAAOI,KAAK,CAAC,iCAAD,CAAZ;AACA;;AACDC,IAAAA,KAAK,CAAC,cAAD,EAAgB;AACpBC,MAAAA,MAAM,EAAC,MADa;AAEpBC,MAAAA,OAAO,EAAC;AACN,wBAAe;AADT,OAFY;AAKpBC,MAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAejB,OAAf;AALe,KAAhB,CAAL,CAMEkB,IANF,CAMO,CAACC,QAAD,EAAUC,KAAV,KAAkB;AACxBD,MAAAA,QAAQ,CAACE,IAAT,GACCH,IADD,CACOI,IAAD,IAAQ;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACP,IAAjB;AACAJ,QAAAA,KAAK,CAACW,IAAI,CAACG,OAAN,CAAL;AACA,aAAK/B,KAAL,CAAWgC,OAAX,CAAmBC,IAAnB,CAAyB,UAAzB;AAED,OAPD;AAQD,KAfA,EAeEC,KAfF,CAeQ,MAAI;AACXjB,MAAAA,KAAK,CAAC,yBAAD,CAAL;AAED,KAlBA;AAoBF;;AAICkB,EAAAA,MAAM,GAAI;AACN,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIM,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJN,CADF;AASD;;AA1DyB;;AAsEhC,eAAgBrC,OAAhB","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport Mytable from './Mytable';\n\nimport row from './row'\n\n\nclass Addnote extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n    this.onSubmit = this.onSubmit.bind(this)\n\n  }\n  onSubmit(e){\n    e.preventDefault();\n    const student={\n      email:this.props.FirstName[0]+'_'+this.props.FamilyName+\"@esi.dz\",\n      password:this.props.FamilyName+this.props.FirstName,\n      FirstName:this.props.FirstName,\n      FamilyName:this.props.FamilyName,\n      dateBirth:this.props.dateBirth,\n      matricule:this.props.matricule,\n      level:this.props.level,       \n    }\n\n    const token=localStorage.getItem('token')//////\n    if ((this.props.matricule === '' || this.props.FamilyName === '' || this.props.FirstName === '' || this.props.level === '')) {\n      return alert('you shoud fill all the fields !') \n     }\n     fetch('students/add',{\n      method:'POST',\n      headers:{\n        'content-type':'application/json'\n      },\n      body:JSON.stringify(student)\n    }).then((response,error)=>{\n      response.json()\n      .then((data)=>{\n        console.log(data)\n        console.log(data.body)\n        alert(data.message)\n        this.props.history.push(`/Student`)\n\n      })\n    }).catch(()=>{\n      alert(\"verify the informations\")\n\n    })\n\n  } \n\n      \n\n    render () {\n        return (\n          <div>\n            \n              \n               \n                <Mytable></Mytable>\n             \n          </div>\n        )\n      }\n\n      \n\n      \n\n\n\n\n\n\n}\nexport default  Addnote;"]},"metadata":{},"sourceType":"module"}