{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Boucheta\\\\Documents\\\\GitHub\\\\gestion_scolarite\\\\src\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Menu from './Menu';\n\nclass Login extends Component {\n  componentDidMount() {\n    this.callApi().then(res => this.setState({\n      response: res.express\n    })).catch(err => console.log(err));\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.callApi = async () => {\n      const response = await fetch('/inscrire');\n      const body = await response.json();\n      if (response.status !== 200) throw Error(body.message);\n      return body;\n    };\n\n    this.state = {\n      submitted: false // Indique si on a validé le nom\n\n    };\n  } // Affiche un message d'erreur s'il n'y a pas de nom renseigné\n\n\n  getWarning() {\n    if (this.state.submitted && (this.props.username === '' || this.props.password === '')) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \" Vous devez introduir le nom d'utilisateur \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"et\"), \" le mot de passe !\");\n    }\n  }\n\n  submitName(event) {\n    this.props.submitForm(event);\n    this.setState({\n      submitted: true\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"App-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App-form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Connexion\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Nom d'utilisateur\")), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Entrer le nom d'utilisateur\",\n      name: \"username\",\n      onChange: event => this.props.handleChange(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Mot de passe\")), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Entrer le mot de passe\",\n      name: \"password\",\n      onChange: event => this.props.handleChange(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(Link, {\n      className: \"App-btn\",\n      to: '/Menu',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Login\")))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"le nom : \", this.props.username, this.getWarning()));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Boucheta/Documents/GitHub/gestion_scolarite/src/Login.js"],"names":["React","Component","Link","Menu","Login","componentDidMount","callApi","then","res","setState","response","express","catch","err","console","log","constructor","props","fetch","body","json","status","Error","message","state","submitted","getWarning","username","password","submitName","event","submitForm","render","handleChange"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Menu from './Menu';\r\n \r\nclass Login extends Component {\r\n\r\n  componentDidMount() {\r\n    this.callApi()\r\n      .then(res => this.setState({ response: res.express }))\r\n      .catch(err => console.log(err));\r\n  }\r\n  \r\n  callApi = async () => {\r\n    const response = await fetch('/inscrire');\r\n    const body = await response.json();\r\n    if (response.status !== 200) throw Error(body.message);\r\n    \r\n    return body;\r\n  };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n         submitted: false, // Indique si on a validé le nom\r\n        };\r\n      }\r\n     \r\n      // Affiche un message d'erreur s'il n'y a pas de nom renseigné\r\n  getWarning() {\r\n    if (this.state.submitted && (this.props.username === '' || this.props.password === '' )) {\r\n      return (\r\n        <p> Vous devez introduir le nom d'utilisateur <b>et</b> le mot de passe !</p>\r\n      )\r\n    }\r\n  }\r\n\r\n      submitName(event) {\r\n        this.props.submitForm(event)\r\n        this.setState({submitted: true})\r\n        \r\n      }\r\n      \r\n\r\n      render() {\r\n        return (\r\n          <div id=\"container\">\r\n            <form  className=\"App-form\">\r\n                <div className=\"App-form-group\">   \r\n                     <h1>Connexion</h1>\r\n                     <label><b>Nom d'utilisateur</b></label>\r\n                     <input \r\n                      type=\"text\" \r\n                      placeholder=\"Entrer le nom d'utilisateur\" \r\n                      name=\"username\"\r\n                      onChange={(event) => this.props.handleChange(event)}\r\n                     ></input>\r\n                     <label><b>Mot de passe</b></label>\r\n                     <input \r\n                     type=\"password\" \r\n                     placeholder=\"Entrer le mot de passe\" \r\n                     name=\"password\" \r\n                     onChange={(event) => this.props.handleChange(event)}\r\n                     ></input>\r\n                    <Link className=\"App-btn\" to={'/Menu'} ><b>Login</b></Link>\r\n                 </div>   \r\n           </form>\r\n           <p>le nom : {this.props.username}\r\n                 {this.getWarning()}</p>\r\n\r\n          </div>\r\n        );\r\n      }\r\n\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}